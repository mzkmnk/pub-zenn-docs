---
title: "Angular v20ã«ãŠã‘ã‚‹ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®å¤‰æ›´ç‚¹"
emoji: "ğŸ¦"
type: "tech"
topics: ["Angular","Tech","Test"]
published: false
---

Angular@v20ãŒ2025å¹´5æœˆ29æ—¥ã«äºˆå®šã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä»Šå›ã¯TestBedå‘¨ã‚Šã‚’è¦‹ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚

## `TestBed.flushEffects()`ã®å‰Šé™¤
https://github.com/angular/angular/commit/d5fd7349fb8b3942f0727cd7ee62e7a7b231e9e4
ãƒ†ã‚¹ãƒˆã®ä¸­ã§`effect`ã‚’å®Ÿè¡Œã•ã›ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã¦ã„ãŸã“ã®é–¢æ•°ã§ã™ãŒå‰Šé™¤ã•ã‚Œã€`TestBed.tick()`ã®ä½¿ç”¨ã‚’æ¨å¥¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

### èƒŒæ™¯

before
```ts
import {TestBed} from "@angular/core/testing";

TestBed.flushEffects();
```

after(@v20)
```ts
import {TestBed} from "@angular/core/testing";

TestBed.tick();
```

## `TestBed.get()`ã®å‰Šé™¤
https://github.com/angular/angular/commit/5e209cb560fdfb943169a09d35389c703fa71418
ãƒ†ã‚¹ãƒˆç’°å¢ƒå†…ã®ã‚µãƒ¼ãƒ“ã‚¹ãªã©ã®ä¾å­˜é–¢ä¿‚ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã—ãŸãŒã€angular@v9ã§éæ¨å¥¨ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚
ä»Šå›ã®v20ã¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§å‰Šé™¤ã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚

before
```ts
import {TestBed} from "@angular/core/testing";

Testbed.get(...);
```

after(@v20)
```ts
import {TestBed} from "@angular/core/testing";

Testbed.inject(...);
```